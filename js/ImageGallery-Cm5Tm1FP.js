import{j as a,P as j}from"./index-NNskfunW.js";import{e as W,b as s}from"./vendor-ASO3vaGF.js";function ue(u,n){if(u==null)return{};var l=ce(u,n),r,i;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(u);for(i=0;i<d.length;i++)r=d[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(u,r)&&(l[r]=u[r])}return l}function ce(u,n){if(u==null)return{};var l={},r=Object.keys(u),i,d;for(d=0;d<r.length;d++)i=r[d],!(n.indexOf(i)>=0)&&(l[i]=u[i]);return l}function F(){return F=Object.assign||function(u){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(u[r]=l[r])}return u},F.apply(this,arguments)}function te(u,n){var l=Object.keys(u);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(u);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(u,i).enumerable})),l.push.apply(l,r)}return l}function R(u){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?te(Object(l),!0).forEach(function(r){me(u,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(l)):te(Object(l)).forEach(function(r){Object.defineProperty(u,r,Object.getOwnPropertyDescriptor(l,r))})}return u}function me(u,n,l){return n in u?Object.defineProperty(u,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[n]=l,u}const de={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},Q=2;class _ extends W.Component{constructor(n){super(n),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let l;this.props.breakpointCols&&this.props.breakpointCols.default?l=this.props.breakpointCols.default:l=parseInt(this.props.breakpointCols)||Q,this.state={columnCount:l}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const n=window&&window.innerWidth||1/0;let l=this.props.breakpointCols;typeof l!="object"&&(l={default:parseInt(l)||Q});let r=1/0,i=l.default||Q;for(let d in l){const c=parseInt(d);c>0&&n<=c&&c<r&&(r=c,i=l[d])}i=Math.max(1,parseInt(i)||1),this.state.columnCount!==i&&this.setState({columnCount:i})}itemsInColumns(){const n=this.state.columnCount,l=new Array(n),r=W.Children.toArray(this.props.children);for(let i=0;i<r.length;i++){const d=i%n;l[d]||(l[d]=[]),l[d].push(r[i])}return l}renderColumns(){const{column:n,columnAttrs:l={},columnClassName:r}=this.props,i=this.itemsInColumns(),d=`${100/i.length}%`;let c=r;c&&typeof c!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof c=="undefined"&&(c="my-masonry-grid_column"));const y=R(R(R({},n),l),{},{style:R(R({},l.style),{},{width:d}),className:c});return i.map((m,g)=>W.createElement("div",F({},y,{key:g}),m))}logDeprecated(n){console.error("[Masonry]",n)}render(){const n=this.props,{children:l,breakpointCols:r,columnClassName:i,columnAttrs:d,column:c,className:y}=n,m=ue(n,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let g=y;return typeof y!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof y=="undefined"&&(g="my-masonry-grid")),W.createElement("div",F({},m,{className:g}),this.renderColumns())}}_.defaultProps=de;function re({categories:u,activeCategory:n,onCategoryChange:l}){const[r,i]=s.useState(0),d=s.useRef(null),c=s.useRef([]);s.useEffect(()=>{const m=u.findIndex(g=>g.id===n);m!==-1&&i(m)},[n,u]),s.useEffect(()=>{if(c.current[r]&&d.current){const m=c.current[r],g=d.current;if(g.scrollWidth>g.clientWidth){const N=m.offsetLeft,H=m.offsetWidth,T=g.clientWidth,D=N-T/2+H/2;g.scrollTo({left:D,behavior:"smooth"})}}},[r]);const y=(m,g)=>{i(g),l(m.id)};return a.jsx("div",{className:"category-toggle",children:a.jsx("div",{className:"category-toggle-container",ref:d,children:u.map((m,g)=>a.jsxs("button",{ref:N=>c.current[g]=N,className:`category-button ${g===r?"active":""}`,onClick:()=>y(m,g),"aria-label":`Visa ${m.name} (${m.images.length} bilder)`,children:[a.jsx("span",{className:"category-name",children:m.name}),a.jsxs("span",{className:"category-count",children:["(",m.images.length,")"]})]},m.id))})})}re.propTypes={categories:j.arrayOf(j.shape({id:j.string.isRequired,name:j.string.isRequired,images:j.array.isRequired})).isRequired,activeCategory:j.string.isRequired,onCategoryChange:j.func.isRequired};const ge=[{id:"alla",name:"Alla bilder",description:"Alla bilder från Storegården 7",images:[{filename:"lokal-upper-1.webp",category:"lokal",subcategory:"upper",number:1,displayName:"Lokal - Övre våning 1",path:"/images/gallery/lokal-upper-1.webp"},{filename:"lokal-upper-2.webp",category:"lokal",subcategory:"upper",number:2,displayName:"Lokal - Övre våning 2",path:"/images/gallery/lokal-upper-2.webp"},{filename:"lokal-upper-3.webp",category:"lokal",subcategory:"upper",number:3,displayName:"Lokal - Övre våning 3",path:"/images/gallery/lokal-upper-3.webp"},{filename:"lokal-upper-4.webp",category:"lokal",subcategory:"upper",number:4,displayName:"Lokal - Övre våning 4",path:"/images/gallery/lokal-upper-4.webp"},{filename:"lokal-upper-5.webp",category:"lokal",subcategory:"upper",number:5,displayName:"Lokal - Övre våning 5",path:"/images/gallery/lokal-upper-5.webp"},{filename:"lokal-under-1.webp",category:"lokal",subcategory:"under",number:1,displayName:"Lokal - Nedre våning 1",path:"/images/gallery/lokal-under-1.webp"},{filename:"lokal-under-2.webp",category:"lokal",subcategory:"under",number:2,displayName:"Lokal - Nedre våning 2",path:"/images/gallery/lokal-under-2.webp"},{filename:"lokal-under-3.webp",category:"lokal",subcategory:"under",number:3,displayName:"Lokal - Nedre våning 3",path:"/images/gallery/lokal-under-3.webp"},{filename:"lokal-under-4.webp",category:"lokal",subcategory:"under",number:4,displayName:"Lokal - Nedre våning 4",path:"/images/gallery/lokal-under-4.webp"},{filename:"lokal-under-5.webp",category:"lokal",subcategory:"under",number:5,displayName:"Lokal - Nedre våning 5",path:"/images/gallery/lokal-under-5.webp"},{filename:"lokal-under-6.webp",category:"lokal",subcategory:"under",number:6,displayName:"Lokal - Nedre våning 6",path:"/images/gallery/lokal-under-6.webp"},{filename:"lokal-under-7.webp",category:"lokal",subcategory:"under",number:7,displayName:"Lokal - Nedre våning 7",path:"/images/gallery/lokal-under-7.webp"},{filename:"lokal-under-8.webp",category:"lokal",subcategory:"under",number:8,displayName:"Lokal - Nedre våning 8",path:"/images/gallery/lokal-under-8.webp"},{filename:"lokal-under-9.webp",category:"lokal",subcategory:"under",number:9,displayName:"Lokal - Nedre våning 9",path:"/images/gallery/lokal-under-9.webp"},{filename:"lokal-under-10.webp",category:"lokal",subcategory:"under",number:10,displayName:"Lokal - Nedre våning 10",path:"/images/gallery/lokal-under-10.webp"},{filename:"lokal-under-11.webp",category:"lokal",subcategory:"under",number:11,displayName:"Lokal - Nedre våning 11",path:"/images/gallery/lokal-under-11.webp"},{filename:"lokal-kok-1.webp",category:"lokal",subcategory:"kok",number:1,displayName:"Lokal - Kök 1",path:"/images/gallery/lokal-kok-1.webp"},{filename:"lokal-kok-2.webp",category:"lokal",subcategory:"kok",number:2,displayName:"Lokal - Kök 2",path:"/images/gallery/lokal-kok-2.webp"},{filename:"lokal-kok-3.webp",category:"lokal",subcategory:"kok",number:3,displayName:"Lokal - Kök 3",path:"/images/gallery/lokal-kok-3.webp"},{filename:"lokal-kok-4.webp",category:"lokal",subcategory:"kok",number:4,displayName:"Lokal - Kök 4",path:"/images/gallery/lokal-kok-4.webp"},{filename:"lokal-service-1.webp",category:"lokal",subcategory:"service",number:1,displayName:"Lokal - Serviceområde 1",path:"/images/gallery/lokal-service-1.webp"},{filename:"lokal-service-2.webp",category:"lokal",subcategory:"service",number:2,displayName:"Lokal - Serviceområde 2",path:"/images/gallery/lokal-service-2.webp"},{filename:"lokal-service-3.webp",category:"lokal",subcategory:"service",number:3,displayName:"Lokal - Serviceområde 3",path:"/images/gallery/lokal-service-3.webp"},{filename:"lokal-ute-1.webp",category:"lokal",subcategory:"ute",number:1,displayName:"Lokal - Utemiljö 1",path:"/images/gallery/lokal-ute-1.webp"},{filename:"lokal-ute-toa-1.webp",category:"lokal",subcategory:"ute-toa",number:1,displayName:"Lokal - Toaletter 1",path:"/images/gallery/lokal-ute-toa-1.webp"},{filename:"lokal-ute-toa-2.webp",category:"lokal",subcategory:"ute-toa",number:2,displayName:"Lokal - Toaletter 2",path:"/images/gallery/lokal-ute-toa-2.webp"}]},{id:"lokal",name:"Lokal",description:"Lokalen på Storegården 7",images:[{filename:"lokal-upper-1.webp",category:"lokal",subcategory:"upper",number:1,displayName:"Lokal - Övre våning 1",path:"/images/gallery/lokal-upper-1.webp"},{filename:"lokal-upper-2.webp",category:"lokal",subcategory:"upper",number:2,displayName:"Lokal - Övre våning 2",path:"/images/gallery/lokal-upper-2.webp"},{filename:"lokal-upper-3.webp",category:"lokal",subcategory:"upper",number:3,displayName:"Lokal - Övre våning 3",path:"/images/gallery/lokal-upper-3.webp"},{filename:"lokal-upper-4.webp",category:"lokal",subcategory:"upper",number:4,displayName:"Lokal - Övre våning 4",path:"/images/gallery/lokal-upper-4.webp"},{filename:"lokal-upper-5.webp",category:"lokal",subcategory:"upper",number:5,displayName:"Lokal - Övre våning 5",path:"/images/gallery/lokal-upper-5.webp"},{filename:"lokal-under-1.webp",category:"lokal",subcategory:"under",number:1,displayName:"Lokal - Nedre våning 1",path:"/images/gallery/lokal-under-1.webp"},{filename:"lokal-under-2.webp",category:"lokal",subcategory:"under",number:2,displayName:"Lokal - Nedre våning 2",path:"/images/gallery/lokal-under-2.webp"},{filename:"lokal-under-3.webp",category:"lokal",subcategory:"under",number:3,displayName:"Lokal - Nedre våning 3",path:"/images/gallery/lokal-under-3.webp"},{filename:"lokal-under-4.webp",category:"lokal",subcategory:"under",number:4,displayName:"Lokal - Nedre våning 4",path:"/images/gallery/lokal-under-4.webp"},{filename:"lokal-under-5.webp",category:"lokal",subcategory:"under",number:5,displayName:"Lokal - Nedre våning 5",path:"/images/gallery/lokal-under-5.webp"},{filename:"lokal-under-6.webp",category:"lokal",subcategory:"under",number:6,displayName:"Lokal - Nedre våning 6",path:"/images/gallery/lokal-under-6.webp"},{filename:"lokal-under-7.webp",category:"lokal",subcategory:"under",number:7,displayName:"Lokal - Nedre våning 7",path:"/images/gallery/lokal-under-7.webp"},{filename:"lokal-under-8.webp",category:"lokal",subcategory:"under",number:8,displayName:"Lokal - Nedre våning 8",path:"/images/gallery/lokal-under-8.webp"},{filename:"lokal-under-9.webp",category:"lokal",subcategory:"under",number:9,displayName:"Lokal - Nedre våning 9",path:"/images/gallery/lokal-under-9.webp"},{filename:"lokal-under-10.webp",category:"lokal",subcategory:"under",number:10,displayName:"Lokal - Nedre våning 10",path:"/images/gallery/lokal-under-10.webp"},{filename:"lokal-under-11.webp",category:"lokal",subcategory:"under",number:11,displayName:"Lokal - Nedre våning 11",path:"/images/gallery/lokal-under-11.webp"},{filename:"lokal-kok-1.webp",category:"lokal",subcategory:"kok",number:1,displayName:"Lokal - Kök 1",path:"/images/gallery/lokal-kok-1.webp"},{filename:"lokal-kok-2.webp",category:"lokal",subcategory:"kok",number:2,displayName:"Lokal - Kök 2",path:"/images/gallery/lokal-kok-2.webp"},{filename:"lokal-kok-3.webp",category:"lokal",subcategory:"kok",number:3,displayName:"Lokal - Kök 3",path:"/images/gallery/lokal-kok-3.webp"},{filename:"lokal-kok-4.webp",category:"lokal",subcategory:"kok",number:4,displayName:"Lokal - Kök 4",path:"/images/gallery/lokal-kok-4.webp"},{filename:"lokal-service-1.webp",category:"lokal",subcategory:"service",number:1,displayName:"Lokal - Serviceområde 1",path:"/images/gallery/lokal-service-1.webp"},{filename:"lokal-service-2.webp",category:"lokal",subcategory:"service",number:2,displayName:"Lokal - Serviceområde 2",path:"/images/gallery/lokal-service-2.webp"},{filename:"lokal-service-3.webp",category:"lokal",subcategory:"service",number:3,displayName:"Lokal - Serviceområde 3",path:"/images/gallery/lokal-service-3.webp"},{filename:"lokal-ute-1.webp",category:"lokal",subcategory:"ute",number:1,displayName:"Lokal - Utemiljö 1",path:"/images/gallery/lokal-ute-1.webp"},{filename:"lokal-ute-toa-1.webp",category:"lokal",subcategory:"ute-toa",number:1,displayName:"Lokal - Toaletter 1",path:"/images/gallery/lokal-ute-toa-1.webp"},{filename:"lokal-ute-toa-2.webp",category:"lokal",subcategory:"ute-toa",number:2,displayName:"Lokal - Toaletter 2",path:"/images/gallery/lokal-ute-toa-2.webp"}]}],ne={categories:ge};function fe(){const[u,n]=s.useState("alla"),[l,r]=s.useState(!1),[i,d]=s.useState(!1),[c,y]=s.useState(!1),[m,g]=s.useState(0),[N,H]=s.useState("hidden"),T=s.useRef("hidden"),D=s.useRef(null),X=s.useRef(null),M=s.useRef(null),U=s.useRef(new Set),w=s.useCallback(e=>{T.current!==e&&(T.current=e,H(e))},[]),P=s.useRef(null),oe=s.useRef(null),f=ne.categories.find(e=>e.id===u),t=s.useMemo(()=>!f||!f.images?[]:f.images.map(e=>({original:e.path,thumbnail:e.path,description:e.displayName,originalAlt:e.displayName,thumbnailAlt:e.displayName,filename:e.filename,subcategory:e.subcategory})),[f]),Z=s.useCallback(()=>{d(!i)},[i]),$=s.useCallback(e=>{M.current=document.activeElement,g(e),y(!0)},[]),ie=s.useCallback(e=>{r(!0),n(e),d(!1),y(!1),setTimeout(()=>{r(!1)},300)},[]),q=s.useCallback(()=>{y(!1)},[]),B=s.useCallback(e=>{if(!t.length)return;const o=(e%t.length+t.length)%t.length;g(o)},[t.length]),Y=s.useCallback(()=>{t.length&&g(e=>(e+1)%t.length)},[t.length]),V=s.useCallback(()=>{t.length&&g(e=>(e-1+t.length)%t.length)},[t.length]);s.useEffect(()=>(c?document.body.classList.add("lightbox-open"):document.body.classList.remove("lightbox-open"),()=>{document.body.classList.remove("lightbox-open")}),[c]),s.useEffect(()=>{if(!c)return;const e=o=>{o.key==="Escape"&&q()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c,q]),s.useEffect(()=>{if(!c||!t.length)return;const e=o=>{switch(o.key){case"ArrowRight":o.preventDefault(),Y();break;case"ArrowLeft":o.preventDefault(),V();break;case"Home":o.preventDefault(),B(0);break;case"End":o.preventDefault(),B(t.length-1);break}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c,t.length,Y,V,B]),s.useEffect(()=>{if(!c){const o=M.current;o&&typeof o.focus=="function"&&requestAnimationFrame(()=>{o.focus({preventScroll:!0}),M.current=null});return}const e=X.current;e&&e.focus({preventScroll:!0})},[c]),s.useEffect(()=>{if(!c)return;const e=D.current;if(!e)return;const o=["a[href]","area[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),p=b=>{if(b.key!=="Tab")return;const C=Array.from(e.querySelectorAll(o)).filter(h=>!h.hasAttribute("aria-hidden"));if(C.length===0){b.preventDefault();return}const A=C[0],S=C[C.length-1],O=b.shiftKey,x=document.activeElement;!O&&x===S?(b.preventDefault(),A.focus()):O&&x===A&&(b.preventDefault(),S.focus())};return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[c]);const K=s.useCallback(e=>{if(!t.length)return;const o=(e+t.length)%t.length,p=t[o];if(!(p!=null&&p.original)||U.current.has(p.original))return;const b=new Image;b.src=p.original,U.current.add(p.original)},[t]);s.useEffect(()=>{U.current.clear()},[u]),s.useEffect(()=>{if(!t.length){g(0);return}g(e=>e>=t.length?t.length-1:e<0?0:e)},[t.length]),s.useEffect(()=>{!c||!t.length||(K(m),K(m+1),K(m-1))},[c,m,t,K]),s.useEffect(()=>{if(!i){w("hidden");return}const e=P.current;if(!e)return;let o=!1;const p=8,b=v=>{let k=0,L=v;for(;L;)k+=L.offsetTop||0,L=L.offsetParent;return k};let C=!1,A=!1;const S=e.querySelector(".sentinel-top"),O=e.querySelector(".sentinel-bottom");let x;"IntersectionObserver"in window&&S&&O&&(x=new IntersectionObserver(v=>{if(v.forEach(k=>{k.target===S&&(C=k.isIntersecting),k.target===O&&(A=k.isIntersecting)}),!C&&!A){const k=b(e),L=k+e.offsetHeight,I=window.scrollY||window.pageYOffset;if(I+(window.innerHeight||document.documentElement.clientHeight)<k||I>=L){w("hidden");return}}A?w("bottom"):C&&w("fixed")},{root:null,threshold:0}),x.observe(S),x.observe(O));const h=()=>{if(!P.current)return;const v=P.current,k=b(v),L=v.offsetHeight,I=k+L,J=window.scrollY||window.pageYOffset,se=window.innerHeight||document.documentElement.clientHeight,ae=J+se;if(ae<k){w("hidden");return}if(J>=I){w("hidden");return}if(ae>=I-p){w("bottom");return}w("fixed")},ee=()=>{o||(o=!0,requestAnimationFrame(()=>{h(),o=!1}))},le=()=>h();let z;return window.ResizeObserver&&(z=new ResizeObserver(()=>h()),z.observe(e)),e.querySelectorAll("img").forEach(v=>{v.complete||v.addEventListener("load",h,{once:!0})}),setTimeout(h,50),setTimeout(h,200),setTimeout(h,600),h(),window.addEventListener("scroll",ee,{passive:!0}),window.addEventListener("resize",le),()=>{window.removeEventListener("scroll",ee),window.removeEventListener("resize",le),z&&z.disconnect(),x&&x.disconnect()}},[i,w]);const G={default:3,768:2},E=t.length>0?t[(m%t.length+t.length)%t.length]:null;return a.jsxs("div",{className:"storegarden-gallery",children:[a.jsx("h2",{id:"gallery-heading",children:"Bildgalleri"}),a.jsx(re,{categories:ne.categories,activeCategory:u,onCategoryChange:ie}),l?a.jsx(_,{breakpointCols:G,className:"gallery-grid",columnClassName:"gallery-column",children:[...Array(6)].map((e,o)=>a.jsx("div",{className:"gallery-thumbnail skeleton-item",children:a.jsx("div",{className:"skeleton-image",style:{height:`${200+o%3*50}px`}})},o))}):a.jsx(_,{breakpointCols:G,className:"gallery-grid",columnClassName:"gallery-column",children:t.slice(0,6).map((e,o)=>a.jsxs("div",{className:"gallery-thumbnail",onClick:()=>$(o),role:"button",tabIndex:0,"aria-label":`Öppna bild ${o+1} av ${t.length} i lightbox`,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),$(o))},children:[a.jsx("img",{src:e.thumbnail,alt:e.thumbnailAlt,loading:"eager"}),a.jsx("div",{className:"image-overlay",children:a.jsx("span",{className:"image-category",children:(f==null?void 0:f.name)||"Alla"})})]},o))}),!i&&a.jsxs("button",{className:"show-more-button",onClick:Z,"aria-expanded":i,"aria-controls":"expanded-gallery","aria-label":`Visa alla ${t.length} bilder i galleriet`,children:["Visa alla bilder (",t.length,")"]}),i&&a.jsxs("div",{className:"expanded-gallery-container",ref:P,children:[a.jsx("div",{className:"gallery-sentinel sentinel-top","aria-hidden":"true"}),a.jsx(_,{breakpointCols:G,className:"gallery-grid expanded-grid",columnClassName:"gallery-column",id:"expanded-gallery",children:t.slice(6).map((e,o)=>a.jsxs("div",{className:"gallery-thumbnail",onClick:()=>$(o+6),role:"button",tabIndex:0,"aria-label":`Öppna bild ${o+7} av ${t.length} i lightbox`,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),$(o+6))},children:[a.jsx("img",{src:e.thumbnail,alt:e.thumbnailAlt,loading:"lazy"}),a.jsx("div",{className:"image-overlay",children:a.jsx("span",{className:"image-category",children:(f==null?void 0:f.name)||"Alla"})})]},o+6))}),a.jsx("div",{className:"gallery-sentinel sentinel-bottom","aria-hidden":"true"}),a.jsx("button",{ref:oe,className:`hide-images-button ${N==="fixed"?"is-fixed":""} ${N==="bottom"?"at-bottom":""} ${N==="hidden"?"is-hidden":""}`,onClick:Z,"aria-label":"Dölj utökade galleri bilder","aria-hidden":N==="hidden",children:"Dölj bilder"})]}),c&&a.jsx("div",{className:"gallery-model",role:"dialog","aria-modal":"true","aria-labelledby":"gallery-heading","aria-describedby":"gallery-description",ref:D,onMouseDown:e=>{e.target===e.currentTarget&&q()},children:a.jsxs("div",{className:"gallery-model-content",children:[a.jsxs("div",{id:"gallery-description",className:"sr-only",children:["Bildgalleri med ",t.length," bilder. Använd pilknapparna för att navigera, ESC för att stänga."]}),a.jsx("button",{className:"gallery-close-button",onClick:q,"aria-label":"Stäng bildgalleri",title:"Stäng lightbox (ESC)",ref:X,type:"button",children:"×"}),E?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lightbox-stage",children:[t.length>1&&a.jsx("button",{type:"button",className:"lightbox-nav lightbox-nav--prev",onClick:V,"aria-label":"Visa föregående bild",children:"‹"}),a.jsxs("figure",{className:"lightbox-image-wrapper",children:[a.jsx("img",{src:E.original,alt:E.originalAlt||E.description||"Bild i galleriet",loading:"eager"}),E.description&&a.jsx("figcaption",{className:"lightbox-caption",children:E.description})]}),t.length>1&&a.jsx("button",{type:"button",className:"lightbox-nav lightbox-nav--next",onClick:Y,"aria-label":"Visa nästa bild",children:"›"})]}),a.jsxs("div",{className:"lightbox-footer",children:[a.jsxs("span",{className:"lightbox-counter","aria-live":"polite",children:[m+1," / ",t.length]}),t.length>1&&a.jsx("div",{className:"lightbox-thumbnails",role:"list",children:t.map((e,o)=>{var b;const p=o===m;return a.jsx("button",{type:"button",className:`lightbox-thumbnail ${p?"is-active":""}`,onClick:()=>B(o),"aria-label":`Gå till bild ${o+1} av ${t.length}`,"aria-current":p?"true":void 0,children:a.jsx("img",{src:e.thumbnail,alt:e.thumbnailAlt,loading:"lazy"})},(b=e.filename)!=null?b:o)})})]})]}):a.jsx("div",{className:"lightbox-empty",children:a.jsx("p",{children:"Inga bilder tillgängliga i denna kategori."})})]})})]})}export{fe as default};
